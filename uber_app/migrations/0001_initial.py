# Generated by Django 4.2.7 on 2023-12-10 11:53

import datetime
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Account',
            fields=[
                ('UserID', models.BigAutoField(primary_key=True, serialize=False)),
                ('Name', models.TextField(default='')),
                ('Email', models.EmailField(max_length=254, unique=True)),
                ('Password', models.TextField(default='')),
                ('Avatar', models.URLField(default='')),
                ('Phone', models.TextField(default='')),
                ('Passenger_Notification_Count', models.IntegerField(default=0)),
                ('Driver_Notification_Count', models.IntegerField(default=0)),
            ],
            options={
                'db_table': 'Account',
            },
        ),
        migrations.CreateModel(
            name='Request',
            fields=[
                ('RequestID', models.BigAutoField(primary_key=True, serialize=False)),
                ('Status', models.TextField(default='new')),
                ('Work_Status', models.BooleanField(default=True)),
                ('Date', models.DateField()),
                ('Timestamp', models.DateTimeField(default=datetime.datetime.now)),
            ],
            options={
                'db_table': 'Request',
            },
        ),
        migrations.CreateModel(
            name='Route',
            fields=[
                ('RouteID', models.BigAutoField(primary_key=True, serialize=False)),
                ('Status', models.TextField(default='available')),
                ('Date', models.DateField()),
                ('Work_Status', models.BooleanField(default=True)),
                ('Car_Model', models.TextField(default='')),
                ('Car_Color', models.TextField(default='')),
                ('Car_Capacity', models.IntegerField(default='')),
                ('LicensePlateNumber', models.TextField(default='')),
                ('Driver', models.ForeignKey(db_column='DriverID', on_delete=django.db.models.deletion.PROTECT, related_name='Driver_Routes', to='uber_app.account')),
            ],
            options={
                'db_table': 'Route',
            },
        ),
        migrations.CreateModel(
            name='Station',
            fields=[
                ('StationID', models.AutoField(primary_key=True, serialize=False)),
                ('StationName', models.TextField()),
                ('Enable', models.BooleanField(default=True)),
            ],
            options={
                'db_table': 'Station',
            },
        ),
        migrations.CreateModel(
            name='RouteStation',
            fields=[
                ('RouteStationID', models.BigAutoField(primary_key=True, serialize=False)),
                ('Time', models.DateTimeField()),
                ('Route', models.ForeignKey(db_column='RouteID', on_delete=django.db.models.deletion.CASCADE, related_name='RouteStations', to='uber_app.route')),
                ('Station', models.ForeignKey(db_column='StationID', on_delete=django.db.models.deletion.PROTECT, related_name='+', to='uber_app.station')),
            ],
            options={
                'db_table': 'RouteStation',
            },
        ),
        migrations.CreateModel(
            name='RoutePassenger',
            fields=[
                ('RoutePassengerID', models.BigAutoField(primary_key=True, serialize=False)),
                ('Work_Status', models.BooleanField(default=True)),
                ('Off', models.ForeignKey(db_column='Off', on_delete=django.db.models.deletion.PROTECT, related_name='+', to='uber_app.station')),
                ('On', models.ForeignKey(db_column='On', on_delete=django.db.models.deletion.PROTECT, related_name='+', to='uber_app.station')),
                ('Passenger', models.ForeignKey(db_column='PassengerID', on_delete=django.db.models.deletion.PROTECT, related_name='RoutePassengers', to='uber_app.account')),
                ('Request', models.ForeignKey(db_column='RequestID', on_delete=django.db.models.deletion.PROTECT, related_name='+', to='uber_app.request')),
                ('Route', models.ForeignKey(db_column='RouteID', on_delete=django.db.models.deletion.PROTECT, related_name='RoutePassengers', to='uber_app.route')),
            ],
            options={
                'db_table': 'RoutePassenger',
            },
        ),
        migrations.AddField(
            model_name='route',
            name='Passengers',
            field=models.ManyToManyField(related_name='Passenger_Routes', through='uber_app.RoutePassenger', to='uber_app.account'),
        ),
        migrations.AddField(
            model_name='route',
            name='Stations',
            field=models.ManyToManyField(related_name='+', through='uber_app.RouteStation', to='uber_app.station'),
        ),
        migrations.AddField(
            model_name='request',
            name='Off',
            field=models.ForeignKey(db_column='Off', on_delete=django.db.models.deletion.PROTECT, related_name='+', to='uber_app.station'),
        ),
        migrations.AddField(
            model_name='request',
            name='On',
            field=models.ForeignKey(db_column='On', on_delete=django.db.models.deletion.PROTECT, related_name='+', to='uber_app.station'),
        ),
        migrations.AddField(
            model_name='request',
            name='Passenger',
            field=models.ForeignKey(db_column='PassengerID', on_delete=django.db.models.deletion.PROTECT, related_name='Requests', to='uber_app.account'),
        ),
        migrations.AddField(
            model_name='request',
            name='Route',
            field=models.ForeignKey(db_column='RouteID', on_delete=django.db.models.deletion.PROTECT, related_name='Requests', to='uber_app.route'),
        ),
        migrations.CreateModel(
            name='Notification',
            fields=[
                ('NotificationID', models.BigAutoField(primary_key=True, serialize=False)),
                ('Read', models.BooleanField(default=False)),
                ('For', models.TextField()),
                ('Category', models.TextField()),
                ('Timestamp', models.DateTimeField(default=datetime.datetime.now)),
                ('Request', models.ForeignKey(db_column='RequestID', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to='uber_app.request')),
                ('Route', models.ForeignKey(db_column='RouteID', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to='uber_app.route')),
                ('User', models.ForeignKey(db_column='UserID', on_delete=django.db.models.deletion.PROTECT, related_name='Notification_Users', to='uber_app.account')),
            ],
            options={
                'db_table': 'Notification',
            },
        ),
    ]
